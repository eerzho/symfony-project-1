{% extends 'base.html.twig' %}

{% block title %}Hello DefaultController!{% endblock %}

{% set string = "super \n mega \n test" %}

{% block body %}
    <style>
        .example-wrapper {
            margin: 1em auto;
            max-width: 800px;
            width: 95%;
            font: 18px/1.5 sans-serif;
        }

        .example-wrapper code {
            background: #F5F5F5;
            padding: 2px 6px;
        }
    </style>

    <div class="example-wrapper">
        <h1>Hello {{ controller_name }}! âœ…</h1>

        This friendly message is coming from:
        <ul>
            <li>Your controller at <code><a href="{{ '/srv/app/src/Controller/DefaultController.php'|file_link(0) }}">src/Controller/DefaultController.php</a></code>
            </li>
            <li>Your template at <code><a href="{{ '/srv/app/templates/default/index.html.twig'|file_link(0) }}">templates/default/index.html.twig</a></code>
            </li>
        </ul>

        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="flush-{{ label }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        <ul>
            {% for i in 1..10 %}
                <li>{{ cycle(['even', 'odd'], i) }}</li>
            {% endfor %}
        </ul>

        <div>
            {{ path('home') }}
        </div>

        <div>
            {{ url('home') }}
        </div>

        <div>
            {{ asset('images/logo.png') }}
        </div>

        <div>
            {{ absolute_url(asset('images/logo.png')) }}
        </div>

        <img src="{{ absolute_url(asset('images/logo.png')) }}" alt="logo" style="width: 50%; height: 50%;">

        <div>
            {{ string|escape('html') }}
        </div>

        <div>
            Here global variable: {{ global_variable }}
        </div>

        <div>
            User: {{ app.user }}
        </div>

        <div>
            Request param variable: {{ app.request.get('param') }}
        </div>

        <div>
            <div>
                Test render controller:
            </div>
            {{ render(controller(
                'App\\Controller\\DefaultController::mostPopularPosts',
                { 'number': 5 }
            )) }}
        </div>

    </div>
{% endblock %}

{% block script %}

    <script src="{{ asset('/build/app.js') }}"></script>
    <script>
        let route = "{{ string|escape('js') }}"
        // alert(route);

        // $(document).ready(function () {
        //     alert(1);
        // })
    </script>

{% endblock %}
